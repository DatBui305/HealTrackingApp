// ignore_for_file: prefer_const_constructors, prefer_const_literals_to_create_immutables

import 'package:app3/components/height_weight_changer.dart';
import 'package:fl_chart/fl_chart.dart';
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';
import 'package:flutter/widgets.dart';
import '../colors/color_set.dart';
import '../components/appbar.dart';
import '../components/feature.dart';
import '../components/sidebar.dart';
import '../components/tip_ball.dart';
import '../components/water_intake.dart';
import '../models/tip_ball.dart';
import '../styles/box_shadow.dart';

class Dashboard extends StatelessWidget {
  const Dashboard({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,
      home: Scaffold(
        drawer: Sidebar(),
        backgroundColor: htaPrimaryColors.shade100,
        body: SafeArea(
          child: Column(
            children: [
              // Ph·∫ßn kh√¥ng cu·ªôn
              const Padding(
                padding:
                    EdgeInsets.only(top: 25, bottom: 25, right: 15, left: 15),
                child: MyAppBar(username: 'Alice'),
              ),
              // Cu·ªôn c·∫£ Column n√†y
              Expanded(
                child: SingleChildScrollView(
                  child: Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      // story hay tip j ƒë·∫•y (horiz scrollable)
                      SingleChildScrollView(
                        scrollDirection: Axis.horizontal,
                        child: Padding(
                          padding: const EdgeInsets.symmetric(horizontal: 25),
                          child: Row(
                            children: [
                              TipBall(
                                  imageUrl: 'https://photos.google.com/u/1/share/AF1QipNAbgiu0dGgFV6-PtY-HRANd7w3fVaykFiq6J-w7Dsew4SApm5Qene0uJc_mQUPNA/photo/AF1QipN8iFY73SaEL4LykuIilIW5kPkCJTlpbDcY5bfm?key=YUZSWkMzdUI0cUk3YTA4YUs1QnBUQjNhajhCUHRB',
                                  emoji: 'üêÖ',
                                  title: 'Just',
                              ),
                              const SizedBox(
                                width: 15,
                              ),
                              TipBall(
                                  imageUrl: 'https://photos.google.com/u/1/share/AF1QipNAbgiu0dGgFV6-PtY-HRANd7w3fVaykFiq6J-w7Dsew4SApm5Qene0uJc_mQUPNA/photo/AF1QipMa26UNcfFQoiuZrl8xUgNODCnK98csa8A4kdo3?key=YUZSWkMzdUI0cUk3YTA4YUs1QnBUQjNhajhCUHRB',
                                  emoji: 'ü¶ä',
                                  title: 'Some',
                              ),
                              const SizedBox(
                                width: 15,
                              ),
                              TipBall(
                                  imageUrl: 'https://photos.google.com/u/1/share/AF1QipNAbgiu0dGgFV6-PtY-HRANd7w3fVaykFiq6J-w7Dsew4SApm5Qene0uJc_mQUPNA/photo/AF1QipP9hAJjZL9wipy3NuCNv0CApZg2Y3rWJIq0TIzs?key=YUZSWkMzdUI0cUk3YTA4YUs1QnBUQjNhajhCUHRB',
                                  emoji: 'ü¶Ü',
                                  title: 'Random',
                              ),
                              const SizedBox(
                                width: 15,
                              ),
                              TipBall(
                                  imageUrl: 'https://photos.google.com/u/1/share/AF1QipNAbgiu0dGgFV6-PtY-HRANd7w3fVaykFiq6J-w7Dsew4SApm5Qene0uJc_mQUPNA/photo/AF1QipMMrDNs7ch3EvZzGVHKD1uNmYa9G7FG65XlfwM9?key=YUZSWkMzdUI0cUk3YTA4YUs1QnBUQjNhajhCUHRB',
                                  emoji: 'ü™≥',
                                  title: 'Facts',
                              ),
                              const SizedBox(
                                width: 15,
                              ),
                              TipBall(
                                  imageUrl: 'https://photos.google.com/u/1/share/AF1QipNAbgiu0dGgFV6-PtY-HRANd7w3fVaykFiq6J-w7Dsew4SApm5Qene0uJc_mQUPNA/photo/AF1QipOP7zs4RFvacHhURlLDRGn13LGPGdyAtZn9VJYi?key=YUZSWkMzdUI0cUk3YTA4YUs1QnBUQjNhajhCUHRB',
                                  emoji: 'ü¶ê',
                                  title: 'You',
                              ),
                              const SizedBox(
                                width: 15,
                              ),
                              TipBall(
                                  imageUrl: 'https://photos.google.com/u/1/share/AF1QipNAbgiu0dGgFV6-PtY-HRANd7w3fVaykFiq6J-w7Dsew4SApm5Qene0uJc_mQUPNA/photo/AF1QipMYH6fLdc4O14Ga8G-_4QFooPSwIMGLokDbIs_H?key=YUZSWkMzdUI0cUk3YTA4YUs1QnBUQjNhajhCUHRB',
                                  emoji: 'üê¨',
                                  title: 'Might',
                              ),
                              const SizedBox(
                                width: 15,
                              ),
                              TipBall(
                                  imageUrl: 'https://photos.google.com/u/1/share/AF1QipNAbgiu0dGgFV6-PtY-HRANd7w3fVaykFiq6J-w7Dsew4SApm5Qene0uJc_mQUPNA/photo/AF1QipM6mcq4w-jQU33N8LRl9NLuLMaj8Yb7iHPCpNXB?key=YUZSWkMzdUI0cUk3YTA4YUs1QnBUQjNhajhCUHRB',
                                  emoji: 'ü¶è',
                                  title: 'Like',
                              ),
                            ],
                          ),
                        ),
                      ),
                      const SizedBox(
                        height: 25,
                      ),
                      // title Your stats today v√† channge date (?)
                      const Padding(
                        padding: EdgeInsets.symmetric(horizontal: 25),
                        child: Text(
                          'Your stats for today',
                          style: TextStyle(
                            fontWeight: FontWeight.bold,
                            fontSize: 18,
                          ),
                        ),
                      ),
                      const SizedBox(
                        height: 15,
                      ),
                      // m·∫•y c√°i chart (kh√≥ l√†m qu√° ƒë·ªÉ sau)
                      Padding(
                        padding: const EdgeInsets.symmetric(horizontal: 25),
                        child: Container(
                          decoration: BoxDecoration(
                            color: htaPrimaryColors.shade50,
                            borderRadius: BorderRadius.circular(15),
                            boxShadow: [shadow],
                          ),
                          padding: const EdgeInsets.all(15),
                          child: Column(
                            // crossAxisAlignment: CrossAxisAlignment.stretch,
                            children: [
                              // Calories
                              const Text(
                                'Calories',
                                style: TextStyle(
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                              const SizedBox(
                                height: 15,
                              ),
                              // pie charts
                              SizedBox(
                                height: 110, // ƒê√£ s·ª≠a l·∫°i t·ª´ 1110
                                child: Row(
                                  children: [
                                    // ch·ªó n√†y l√† s·ªë kcal ƒë√£ h·∫•p th·ª•
                                    Expanded(
                                      child: Column(
                                        mainAxisAlignment: MainAxisAlignment.center,
                                        children: [
                                          // s·ªë
                                          Text(
                                            '2000',
                                            style: TextStyle(
                                              color: htaPrimaryColors.shade500,
                                              fontWeight: FontWeight.bold,
                                              fontSize: 18,
                                            ),
                                          ),
                                      
                                          // ch·ªØ
                                          Text(
                                            'kcal consumed',
                                            style: TextStyle(
                                              color: htaPrimaryColors.shade500,
                                              fontSize: 12,
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),

                                    // ch·ªó n√†y l√† c√°i pie chart remaining kcal
                                    Expanded(
                                      child: Stack(
                                        alignment: Alignment.center,
                                        children: [
                                          SizedBox(
                                            height: 110 - 10, // Chi·ªÅu cao c·ªë ƒë·ªãnh - ƒëi radius
                                            width: 110 - 10,  // Chi·ªÅu r·ªông c·ªë ƒë·ªãnh - ƒëi radius
                                            child: PieChart(
                                              PieChartData(
                                                sections: [
                                                  PieChartSectionData(
                                                    color: htaPrimaryColors.shade100,
                                                    value: 2000,
                                                    radius: 10,
                                                    title: '',
                                                  ),
                                                  PieChartSectionData(
                                                    color: htaPrimaryColors.shade500,
                                                    value: 500,
                                                    title: '',
                                                    radius: 10,
                                                  ),
                                                ],
                                                sectionsSpace: 0,
                                                centerSpaceRadius: 35,
                                              ),
                                            ),
                                          ),
                                      
                                          // s·ªë
                                          Text(
                                            textAlign: TextAlign.center,
                                            '1500' '\nremaining',
                                            style: TextStyle(
                                              color: htaPrimaryColors.shade500,
                                              fontWeight: FontWeight.bold,
                                              fontSize: 12,
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),
                                    // ch·ªó n√†y l√† s·ªë kcal ƒë√£ ƒë·ªët
                                    Expanded(
                                      child: Column(
                                        mainAxisAlignment: MainAxisAlignment.center,
                                        children: [
                                          // s·ªë
                                          Text(
                                            '500',
                                            style: TextStyle(
                                              color: htaPrimaryColors.shade500,
                                              fontWeight: FontWeight.bold,
                                              fontSize: 18,
                                            ),
                                          ),
                                      
                                          // ch·ªØ
                                          Text(
                                            'kcal burned',
                                            style: TextStyle(
                                              color: htaPrimaryColors.shade500,
                                              fontSize: 12,
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),
                                  ],
                                ),
                              ),
                              const SizedBox(
                                height: 15,
                              ),
                              // sleep
                              const Text(
                                'Sleep',
                                style: TextStyle(
                                  fontWeight: FontWeight.bold,
                                ),
                              ),
                              const SizedBox(
                                height: 15,
                              ),
                              // ch·ªó n√†y l√† c√°i sleep stats bar chart
                              Container(
                                height: 120, // ƒê√£ s·ª≠a l·∫°i t·ª´ 120
                              )
                              // n√∫t xem chi ti·∫øt
                            ],
                          ),
                        ),
                      ),
                      const SizedBox(
                        height: 25,
                      ),

                      // text how have u changed
                      const Padding(
                        padding: EdgeInsets.symmetric(horizontal: 25),
                        child: Text(
                          'How have you changed?',
                          style: TextStyle(
                            fontWeight: FontWeight.bold,
                            fontSize: 18,
                          ),
                        ),
                      ),
                      const SizedBox(
                        height: 15,
                      ),

                      // c√°i box hi·ªÉn th·ªã c√¢n n·∫∑ng chi·ªÅu cao
                      HeightWeightChanger(),
                      SizedBox(height: 25,),

                      // how much water j j ƒë·∫•y
                      const Padding(
                        padding: EdgeInsets.symmetric(horizontal: 25),
                        child: Text(
                          'How much water consumed today?',
                          style: TextStyle(
                            fontWeight: FontWeight.bold,
                            fontSize: 18,
                          ),
                        ),
                      ),
                      const SizedBox(
                        height: 15,
                      ),

                      // c√°i box ƒë·ªÉ hi·ªÉn th·ªã m·∫•y c√°i ly n∆∞·ªõc
                      const WaterIntake(),
                      const SizedBox(
                        height: 25,
                      ),

                      // features
                      const Padding(
                        padding: EdgeInsets.symmetric(horizontal: 25),
                        child: Text(
                          'More features',
                          style: TextStyle(
                            fontWeight: FontWeight.bold,
                            fontSize: 18,
                          ),
                        ),
                      ),
                      const SizedBox(
                        height: 15,
                      ),

                      // row g·ªìm m·∫•y c√°i features kh√°c
                      SingleChildScrollView(
                        clipBehavior: Clip.none, // c√°i n√†y fix l·ªói m·∫•y c√°i shadows b·ªã clipped m·∫•t
                        scrollDirection: Axis.horizontal,
                        child: Padding(
                          padding: EdgeInsets.symmetric(horizontal: 25),
                          child: Row(
                            children: [
                              Feature(title: 'BMI Calculator', icon: 'üßÆ',),
                              SizedBox(
                                width: 15,
                              ),
                              Feature(title: 'Diary', icon: 'üìì',),
                              SizedBox(
                                width: 15,
                              ),
                              Feature(title: 'Set goal', icon: 'üéØ',),
                              SizedBox(
                                width: 15,
                              ),
                              Feature(title: 'Ask nutritionists', icon: 'üßë‚Äç‚öïÔ∏è',),
                            ],
                          ),
                        ),
                      ),

                      // padding d∆∞·ªõi
                      const SizedBox(
                        height: 25,
                      ),
                    ],
                  ),
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
}
